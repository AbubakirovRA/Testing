// Задание №6
// Напишите модульный тест для проверки, что при удалении товара из корзины, общее
// количество этого товара в магазине соответствующим образом увеличивается.

// Ожидаемый результат: Количество продуктов этого типа на складе
// увеличивается на число удаленных из корзины продуктов

// Тест проверяет, что при удалении товара из корзины, общее количество этого товара в магазине увеличивается.
// фреймворк тестирования - JUnit. 
// Создаем объекты магазина и корзины, добавляем продукты в магазин и корзину, а затем удаляем определенное количество продуктов этого типа из корзины. 
// Проверяем, что количество продукта в магазине увеличилось на соответствующее количество.


import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class ShopTest {

    @Test
    public void testIncreaseProductQuantityInShopAfterRemovingFromCart() {
        // Создаем объект магазина
        Shop shop = new Shop();

        // Создаем продукт
        Product product = new Product(1, "Product 1", 10.0, 5); // Начальное количество в магазине: 5 шт.

        // Добавляем продукт в магазин
        shop.addProduct(product);

        // Создаем объект корзины
        Cart cart = new Cart();

        // Добавляем продукт в корзину, например, 3 шт.
        cart.addProductToCart(product, 3);

        // Удаляем определенное количество продуктов этого типа из корзины
        cart.removeProductByID(1, 2);

        // Проверяем, что количество продуктов этого типа на складе увеличилось
        int expectedQuantityInShop = 5 + 2; // Новое количество в магазине

        int actualQuantityInShop = shop.getProductQuantity(product);

        // Проверяем, что фактическое и ожидаемое количество совпадают
        assertEquals(expectedQuantityInShop, actualQuantityInShop);
    }
}

// Тест создает объект магазина и продукта, добавляет продукт в магазин, создает объект корзины и добавляет продукт в корзину с определенным количеством. 
// Затем он удаляет определенное количество продуктов этого типа из корзины и проверяет, что количество продуктов этого типа на складе увеличилось на соответствующее количество.